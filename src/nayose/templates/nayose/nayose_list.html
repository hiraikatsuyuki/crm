{% extends "base/_base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<nav aria-label="breadcrumb" class="mt-1">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="{% url 'base:front' %}">
                <i class="fas fa-home"></i>
                Home
            </a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            <i class="far fa-address-card"></i>
            名寄せ
        </li>
    </ol>
</nav>

<div class="row align-items-center my-4">
    <div class="col">
        <h1 class="h4">名寄せ</h1>
    </div>
    <div class="col text-right">
        <a href="{% url 'nayose:create' %}" role="button" class="btn btn-outline-secondary">
            <i class="fas fa-plus-circle"></i>
            登録
        </a>
    </div>
</div>

<form method="GET" action="" name="filter_form">
    <div class="form-group border rounded p-3">
        <h2 class="h6">絞り込み</h2>
        <div class="row">
            <div class="col-md-4">
                {{ search_form.kanjishimei | as_crispy_field }}
            </div>
            <div class="col-md-4">
                {{ search_form.kanashimei | as_crispy_field }}
            </div>
        </div>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-search"></i>
            検索
        </button>
    </div>
</form>
{% if object_list %}
<table class="table table-striped table-borderless table-sm table-hover">
    <thead class="thead-dark">
        <tr>
            <th>研究者番号</th>
            <th>職員番号</th>
            <th width=20%>漢字氏名</th>
            <th width=20%>カナ氏名</th>
            <th>生年月日</th>
            <th>性別</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for nayose in object_list %}
        <tr>
            <td>{{ nayose.pk | stringformat:"08d"}}</td>
            <td>{{ nayose.shokuin_id }}</td>
            <td>{{ nayose.kanjishimei_sei }} {{ nayose.kanjishimei_mei }}</td>
            <td>{{ nayose.kanashimei_sei }} {{ nayose.kanashimei_mei }}</td>
            <td>{{ nayose.date_of_birth | date:"Y-m-d"}}</td>
            <td>{{ nayose.get_sex_display }}</td>
            <td>
                <a class="btn btn-outline-secondary btn-sm" href="{% url 'nayose:update' nayose.pk %}">
                    <i class="fas fa-pen"></i>
                    編集
                </a>
                <a class="btn btn-outline-warning btn-sm" href="{% url 'nayose:delete' nayose.pk %}">
                    <i class="fas fa-trash"></i>
                    削除
                </a>
            </td>
            <td>
                <a class="btn btn-outline-info btn-sm" href="{% url 'researcher:detail' nayose.pk %}">
                    <i class="fas fa-info-circle"></i>
                    詳細
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}

{% endblock %}